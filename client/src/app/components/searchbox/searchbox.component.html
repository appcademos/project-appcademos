<div #searchbox id="searchbox" [ngClass]="{'searchPanelOpened': showSearchPanel, 'small-size': small, 'fixed': fixed, 'isHome': isHome, 'shorter': shorter}">
    <span (click)="onClickInput()">
        <input
            #searchInput
            type="text"
            name="query"
            [(ngModel)]="query"
            [placeholder]="useTags ? 'Selecciona curso y compara' : '¿Qué curso buscas?'"
            (keyup.enter)="doOnSearch()"
            (focus)="doShowSearchPanel(); this.onFocus.emit();"
            (keyup.esc)="onInputPressEsc()"
            data-hj-whitelist
            autocomplete="off"
            [readonly]="useTags"
        >
    </span>
    <button type="button" (click)="doOnSearch()" *ngIf="!hideSearchButton">
        <i class="icon icon-search" [ngClass]="{'size-24': !small, 'size-20': small}"></i>
    </button>
    <!--<a class="allCourses" routerLink="/all">Ver todos los cursos <i class="icon size-10 icon-arrow-right-white"></i></a>-->
    
    <div class="tags" *ngIf="useTags && query != null && query.trim().length > 0">
        <nz-tag 
            class="tag"
            nzMode="closeable"
            (nzOnClose)="onCloseTag()"
            [nzColor]="'#FF6E00'"
        >
            {{ getCategoryTagTitle(query) }}
        </nz-tag>
    </div>
    
    <div class="search-panel" [hidden]="!showSearchPanel">
        <div class="top">
            <div class="tabs noselect">
                <div class="tab" [ngClass]="{'selected': selectedTab == 1}" (click)="selectedTab = 1">Mejorar tu inglés</div>
                <div class="tab" [ngClass]="{'selected': selectedTab == 2}" (click)="selectedTab = 2">Certificados</div>
            </div>
            <div class="icon size-14 icon-close cursor-pointer" (click)="doHideSearchPanel()"></div>
        </div>
        <div class="content" *ngIf="!small">
            <a class="search-panel-item noselect" [routerLink]="['cursos-ingles', 'first-certificate']" [hidden]="selectedTab == 1">First certificate</a>
            <a class="search-panel-item noselect" [routerLink]="['cursos-ingles', 'advanced']" [hidden]="selectedTab == 1">Advanced</a>
            <a class="search-panel-item noselect" [routerLink]="['cursos-ingles', 'nivel-b1']" [hidden]="selectedTab == 2">Inglés General B1</a>
            <a class="search-panel-item noselect" [routerLink]="['cursos-ingles', 'nivel-b2']" [hidden]="selectedTab == 2">Inglés General B2</a>
            <a class="search-panel-item noselect" [routerLink]="['cursos-ingles', 'nivel-c1']" [hidden]="selectedTab == 2">Inglés General C1</a>
            <a class="search-panel-item noselect" [routerLink]="['cursos-ingles', 'toefl']" [hidden]="selectedTab == 1">TOEFL</a>
            <a class="search-panel-item noselect" [routerLink]="['cursos-ingles', 'ielts']" [hidden]="selectedTab == 1">IELTS</a>
            <a class="search-panel-item noselect" [routerLink]="['cursos-ingles', 'toeic']" [hidden]="selectedTab == 1">TOEIC</a>
            <a class="search-panel-item noselect" [routerLink]="['cursos-ingles', 'proficiency']" [hidden]="selectedTab == 1">Proficiency</a>
            <a class="search-panel-item noselect" [routerLink]="['cursos-ingles', 'aptis']" [hidden]="selectedTab == 1">Aptis</a>
            
            <div class="line-separator" [hidden]="selectedTab == 2"></div>
            <a class="search-panel-item kids noselect" [routerLink]="['cursos-ingles', 'niños']" [hidden]="selectedTab == 2">Inglés para niños</a>
        </div>
        <div class="content" *ngIf="small">
            <a class="search-panel-item noselect" (click)="query = 'first-certificate'; doOnSearch();" [hidden]="selectedTab == 1">First certificate</a>
            <a class="search-panel-item noselect" (click)="query = 'advanced'; doOnSearch();" [hidden]="selectedTab == 1">Advanced</a>
            <a class="search-panel-item noselect" (click)="query = 'nivel-b1'; doOnSearch();" [hidden]="selectedTab == 2">Inglés General B1</a>
            <a class="search-panel-item noselect" (click)="query = 'nivel-b2'; doOnSearch();" [hidden]="selectedTab == 2">Inglés General B2</a>
            <a class="search-panel-item noselect" (click)="query = 'nivel-c1'; doOnSearch();" [hidden]="selectedTab == 2">Inglés General C1</a>
            <a class="search-panel-item noselect" (click)="query = 'toefl'; doOnSearch();" [hidden]="selectedTab == 1">TOEFL</a>
            <a class="search-panel-item noselect" (click)="query = 'ielts'; doOnSearch();" [hidden]="selectedTab == 1">IELTS</a>
            <a class="search-panel-item noselect" (click)="query = 'toeic'; doOnSearch();" [hidden]="selectedTab == 1">TOEIC</a>
            <a class="search-panel-item noselect" (click)="query = 'proficiency'; doOnSearch();" [hidden]="selectedTab == 1">Proficiency</a>
            <a class="search-panel-item noselect" (click)="query = 'aptis'; doOnSearch();" [hidden]="selectedTab == 1">Aptis</a>
            
            <div class="line-separator" [hidden]="selectedTab == 2"></div>
            <a class="search-panel-item kids noselect" (click)="query = 'niños'; doOnSearch();" [hidden]="selectedTab == 2">Inglés para niños</a>
        </div>
    </div>
</div>
